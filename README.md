# CodeEnvironments

A tool for embedding package dependencies into scripts and notebooks.

[![Build Status](https://travis-ci.com/c42f/CodeEnvironments.jl.svg?branch=master)](https://travis-ci.com/c42f/CodeEnvironments.jl)


## Quick start

Install with
```julia
using Pkg
pkg"add https://github.com/c42f/CodeEnvironments.jl.git"
```

To make an environment for your jupyter notebook, first set up a "staging"
environment where you can add packages as needed. Let's add StaticArrays and
Unitful:

```julia
using Pkg CodeEnvironments
pkg"activate staging"
pkg"add StaticArrays Unitful"
```

Now copy the julia code required to recreate this environment into the
clipboard:

```julia
clipboard(environment_code())
```

This code can now be pasted into your jupyter notebook or script on the first
line. These lines can be hidden in your editor by turning on code folding; they
will look something like the following ugly block of code:

```julia
using CodeEnvironments # {{{ Code environment setup
code_env = CodeEnvironment(project=CodeEnvironments.Base64Data("W2RlcHNdClN0YXRpY0FycmF5cyA9ICI5MDEzN2ZmYS03Mzg1LTU2NDAtODFiOS1lNTIwMzcyMTgxODIiClVuaXRmdWwgPSAiMTk4NmNjNDItZjk0Zi01YTY4LWFmNWMtNTY4ODQwYmE3MDNkIgo="),manifest=CodeEnvironments.Base64Data("IyBUaGlzIGZpbGUgaXMgbWFjaGluZS1nZW5lcmF0ZWQgLSBlZGl0aW5nIGl0IGRpcmVjdGx5IGlzIG5vdCBhZHZpc2VkCgpbW0Jhc2U2NF1dCnV1aWQgPSAiMmEwZjQ0ZTMtNmM4My01NWJkLTg3ZTQtYjE5NzhkOThiZDVmIgoKW1tEaXN0cmlidXRlZF1dCmRlcHMgPSBbIlJhbmRvbSIsICJTZXJpYWxpemF0aW9uIiwgIlNvY2tldHMiXQp1dWlkID0gIjhiYTg5ZTIwLTI4NWMtNWI2Zi05MzU3LTk0NzAwNTIwZWUxYiIKCltbSW50ZXJhY3RpdmVVdGlsc11dCmRlcHMgPSBbIk1hcmtkb3duIl0KdXVpZCA9ICJiNzdlMGE0Yy1kMjkxLTU3YTAtOTBlOC04ZGIyNWEyN2EyNDAiCgpbW0xpYmRsXV0KdXVpZCA9ICI4ZjM5OWRhMy0zNTU3LTU2NzUtYjVmZi1mYjgzMmM5N2NiZGIiCgpbW0xpbmVhckFsZ2VicmFdXQpkZXBzID0gWyJMaWJkbCJdCnV1aWQgPSAiMzdlMmU0NmQtZjg5ZC01MzlkLWI0ZWUtODM4ZmNjY2M5YzhlIgoKW1tMb2dnaW5nXV0KdXVpZCA9ICI1NmRkYjAxNi04NTdiLTU0ZTEtYjgzZC1kYjRkNThkYjU1NjgiCgpbW01hcmtkb3duXV0KZGVwcyA9IFsiQmFzZTY0Il0KdXVpZCA9ICJkNmY0Mzc2ZS1hZWY1LTUwNWEtOTZjMS05YzAyNzM5NDYwN2EiCgpbW1JhbmRvbV1dCmRlcHMgPSBbIlNlcmlhbGl6YXRpb24iXQp1dWlkID0gIjlhM2Y4Mjg0LWEyYzktNWYwMi05YTExLTg0NTk4MGExZmQ1YyIKCltbU2VyaWFsaXphdGlvbl1dCnV1aWQgPSAiOWU4OGI0MmEtZjgyOS01YjBjLWJiZTktOWU5MjMxOTgxNjZiIgoKW1tTb2NrZXRzXV0KdXVpZCA9ICI2NDYyZmUwYi0yNGRlLTU2MzEtODY5Ny1kZDk0MWY5MGRlY2MiCgpbW1NwYXJzZUFycmF5c11dCmRlcHMgPSBbIkxpbmVhckFsZ2VicmEiLCAiUmFuZG9tIl0KdXVpZCA9ICIyZjAxMTg0ZS1lMjJiLTVkZjUtYWU2My1kOTNlYmFiNjllYWYiCgpbW1N0YXRpY0FycmF5c11dCmRlcHMgPSBbIkludGVyYWN0aXZlVXRpbHMiLCAiTGluZWFyQWxnZWJyYSIsICJSYW5kb20iLCAiU3RhdGlzdGljcyIsICJUZXN0Il0KZ2l0LXRyZWUtc2hhMSA9ICIyNzc4NDIxYThlOTBlY2IwODdlMzMyN2UwYjU3YmZlMTVjNDQ0ODZkIgpyZXBvLXJldiA9ICJtYXN0ZXIiCnJlcG8tdXJsID0gIlN0YXRpY0FycmF5cyIKdXVpZCA9ICI5MDEzN2ZmYS03Mzg1LTU2NDAtODFiOS1lNTIwMzcyMTgxODIiCnZlcnNpb24gPSAiMC4xMC4yKyIKCltbU3RhdGlzdGljc11dCmRlcHMgPSBbIkxpbmVhckFsZ2VicmEiLCAiU3BhcnNlQXJyYXlzIl0KdXVpZCA9ICIxMDc0NWIxNi03OWNlLTExZTgtMTFmOS03ZDEzYWQzMmEzYjIiCgpbW1Rlc3RdXQpkZXBzID0gWyJEaXN0cmlidXRlZCIsICJJbnRlcmFjdGl2ZVV0aWxzIiwgIkxvZ2dpbmciLCAiUmFuZG9tIl0KdXVpZCA9ICI4ZGZlZDYxNC1lMjJjLTVlMDgtODVlMS02NWM1MjM0ZjBiNDAiCgpbW1VuaXRmdWxdXQpkZXBzID0gWyJMaW5lYXJBbGdlYnJhIiwgIlJhbmRvbSIsICJUZXN0Il0KZ2l0LXRyZWUtc2hhMSA9ICIyMjJmNjY2YjhkYjgzODBjYTE1NWY2ZDExMjBkYjY1NzBmNzI1YjZhIgpyZXBvLXJldiA9ICJjamYvdHdvLWFyZy11c3RyaXAiCnJlcG8tdXJsID0gIlVuaXRmdWwiCnV1aWQgPSAiMTk4NmNjNDItZjk0Zi01YTY4LWFmNWMtNTY4ODQwYmE3MDNkIgp2ZXJzaW9uID0gIjAuMTQuMCsiCg==")) # }}}
use_environment(code_env)
```
